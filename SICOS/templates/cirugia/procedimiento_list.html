{% extends 'base_cirugia.html' %}


{% block title %}
    Procedimientos
{% endblock title %}


{% block content %}

  <a class= "btn btn-success" href= "#" onclick="ventanaSecundaria ();">Crear Procedimiento<ion-icon name="add"></ion-icon></a>
  
  <a class= "btn btn-success" onclick = "return DescargarConsolidado()" href= "{% url 'Reporte_proc_excel' %}& popup = 1" ><i class="fas fa-file-excel"></i> Exportar Consolidado Proc.</a>


    <div class="card mb-3">
      <div class="card-header">
        <i class="fas fa-table"></i>
        Procedimientos
      </div>
            
      {%if procedimientos %}
        <div class="card-body " style="height: 780px;" >
          <!-- <div class="table-responsive" > -->
              <div class="row">
                <div style="height: 760px;" class="table-wrapper-scroll-y my-custom-scrollbar col-sm-12">
                  <table class="table table-bordered dataTable table-hover table" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                    <thead class="position-static">
                      <tr role="row">
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;" class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Name: activate to sort column descending" style="width: 71px;" aria-sort="ascending"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código</font></font></th>
                        <!-- <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código_Sistem</font></font></th> -->
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especialidad</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre_del_Procedimiento</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre_de_la_Canasta</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duración</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVR</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Días_Estancia</font></font></th>
                        <th style="position: sticky;top: 0;z-index: 10; background-color: #17a2b8;"  class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 52px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acción</font></font></th>
                      </tr>
                    </thead>

                    <tbody>              
                
                      {% for procedimiento in procedimientos %}  
                        <tr role="row" class="odd">
                            <td class="sorting_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{procedimiento.id}}</font></font></td>
                            <!-- <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.cod}}</font></font></td> -->
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.tipo_proc}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.nombre_proc}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.nombre_canasta}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.duracion_proc}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.uvr}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{  procedimiento.dias_estancia}}</font></font></td>
                            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> <center>
                              <a class= "btn btn-primary btn-circle" href= "{% url 'procedimiento_edit' procedimiento.id%}" ><ion-icon name="create"></ion-icon></a>
                              <a class= "btn btn-danger btn-circle" onclick = "return ElimRegistro()" href= "{% url 'procedimiento_elim' procedimiento.id%}" ><ion-icon name="trash"></ion-icon></a></center></font></font> 

                            </td>
                            
                        </tr>
                      {% endfor %}
          
      {%else%}
        <div class="alert alert-dark" role="alert">
          <h2>No hay Registros </h2>
        </div>           
      {% endif%}
                    
                      </tbody>
                  </table>
                </div>
                      
              </div>
          <!-- </div> -->
      </div>
    </div>

    <script> 
      function ventanaSecundaria (){ 
         window.open({% url 'procedimiento_view' %},"ventana1","width=120,height=300");
      } 
      </script>

  


{% endblock content %}

